@page
@model WCSTrainer.Pages.TrainingOrders.IndexModel

@{
    ViewData["Title"] = "Index";
}

<div class="panel">
    <div class="body">

        <div class="side-bar">
            <div class="ul">
                <a href=""><div class="li">Statistics</div></a>
                <a href="TrainingOrders"><div class="selected">Training Orders</div></a>
                <a href=""><div class="li">Manage Trainers</div></a>
                <a href=""><div class="li">Manage Trainees</div></a>
                <a href=""><div class="li">Account Settings</div></a>
            </div>
        </div>

        <div class="properties">
            <div class="order-list">
                <ul>
                    @foreach (var item in Model.TrainingOrder) {
                        <li class="@item.status.ToString()">
                            <a asp-page="./Details" asp-route-id="@item.Id" class="info">
                                <div class="title">Training Order ID: @Html.DisplayFor(modelItem => item.Id)</div>
                                <div class="sub">Trainee - @Html.DisplayFor(modelItem => item.trainee)</div>
                                <div class="sub">Status - @Html.DisplayFor(modelItem => item.status)</div>
                            </a>
                            <div class="buttons">
                                <a asp-page="./Delete" asp-route-id="@item.Id">Delete</a>
                            </div>
                        </li>
                    }
                </ul>
            </div>

            <div class="tools">
                <div class="search">
                    <p>Search for a training order ID:</p>
                    <input type="search">
                </div>
                <div class="selections">
                    <p class="title">Show in List:</p>
                    <div class="section">
                        <input type="checkbox" id="co" onchange="completed(this)"/>
                        <p class="info">Completed</p>
                    </div>
                    <div class="section">
                        <input type="checkbox" id="ac" onchange="active(this)" />
                        <p class="info">Active</p>
                    </div>
                    <div class="section">
                        <input type="checkbox" id="aw" onchange="awaiting(this)" />
                        <p class="info">Awaiting Approval</p>
                    </div>
                </div>
                <div class="buttons">
                    <a asp-page="Create">Create New Order</a>
                </div>
                <div class="buttons">
                    <a asp-page="AllView">Database Planning</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const co = document.querySelector('#co')
    const ac = document.querySelector('#ac')
    const aw = document.querySelector('#aw')

    co.checked = true
    ac.checked = true
    aw.checked = true

    function toggleDisplay(className, show) {
        var elements = document.getElementsByClassName(className);
        for (var i = 0; i < elements.length; i++) {
            elements[i].style.display = show ? "flex" : "none";
        }
    }

    function completed(checkboxElem) {
        toggleDisplay("Completed", checkboxElem.checked);
    }

    function awaiting(checkboxElem) {
        toggleDisplay("Awaiting Approval", checkboxElem.checked);
    }

    function active(checkboxElem) {
        toggleDisplay("Active", checkboxElem.checked);
    }
</script>

