@page
@model WCSTrainer.Pages.Skills.IndexModel
@using Microsoft.AspNetCore.Identity
@inject SignInManager<UserAccount> SignInManager
@inject UserManager<UserAccount> UserManager

<div class="panel">
   <div class="body">
      <partial name="_Sidebar" />
      <div class="properties">
         <partial name="_ListDisplay" model="Model.ListPartial" />
         <div class="tool-container">
            <div class="tools">
               <p class="title">Options:</p>
               <div class="search">
                  <input class="search-box" id="searchInput" placeholder="Search Skills" type="search" oninput="update(this)" />
               </div>
               <div class="btns">
                  <a asp-page="Create" class="btn nbg-btn btnMenu">Create New Skill</a>
                  <a asp-page="DetailView" class="btn nbg-btn btnMenu">Detailed View</a>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<script>
   const closeModalBtn = document.querySelector(".btn-close");
   const deleteText = document.getElementById("deleteText");
   const deleteBtn = document.querySelector("#deleteBtn");

   function toggleDisplay(className, show) {
      var elements = document.getElementsByClassName(className);
      for (var i = 0; i < elements.length; i++) {
         elements[i].style.display = show ? "flex" : "none";
      }
   }

   function checkedBox(checkboxElem) {
      toggleDisplay(checkboxElem.id, checkboxElem.checked);
   }

   function update(searchElement) {
      var value = searchElement.value.toLowerCase();
      var elements = document.getElementsByClassName("searchable");

      if (value == "") {
         for (var i = 0; i < elements.length; i++) {
            elements[i].style.display = "flex";
         }
      } else {
         for (var i = 0; i < elements.length; i++) {
            var id = elements[i].id.toLowerCase();
            if (id.indexOf(value) === -1) {
               elements[i].style.display = "none";
            } else {
               elements[i].style.display = "flex";
            }
         }
      }
   }
</script>

